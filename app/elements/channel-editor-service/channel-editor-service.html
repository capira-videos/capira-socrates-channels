
<dom-module id="channel-editor-service">
  <template>
    <iron-ajax
      id="service"
      url="/server/channelEditorServer.php"
      handle-as="json"
      method="POST"
      verbose="true"
      on-response="_handleResponse"
      ></iron-ajax>
  </template>
</dom-module>
<script>
  (function() {
    Polymer({
      is: 'channel-editor-service',

      generateRequest : function(type,item,method){
        var service=this.$.service;
        service.params={a:type};
        service.body=JSON.stringify(item);
        if(method){
          service.method=method;
        } else {
          service.method='POST';
        }
        service.generateRequest();
      },

      _handleResponse:function(){
        var resp=this.$.service.lastResponse;
        this.fire('responded',resp);
      }

    });
  })();
</script>
